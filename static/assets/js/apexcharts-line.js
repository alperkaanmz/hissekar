(function () {
    "use strict";

    /* basic line chart */
    // JSON dosyasını yükle
fetch('static/assets/js/arclk.json')
.then(response => response.json())
.then(data => {
    // Veriyi al
    var dataArray = Object.entries(data).map(([date, price]) => ({ x: parseInt(date), y: price }));

    // Tarihleri daha seyrek bir şekilde al
    var categories = Object.keys(data).filter((key, index) => index % 10 === 0);

    // Grafik seçeneklerini güncelle
    var options = {
        series: [{
            name: "Stock Price TL",
            data: dataArray
        }],
        chart: {
            height: 600,
            type: 'line',
            zoom: {
                enabled: true,
                type: 'x',
                autoScaleYaxis: true
            }
        },
        colors: ['#845adf'],
        dataLabels: {
            enabled: false
        },
        stroke: {
            curve: 'straight',
            width: 4,
        },
        grid: {
            borderColor: '#f2f5f7',
        },
        title: {
            text: 'ARCLK Stock Price TL',
            align: 'left',
            style: {
                fontSize: '13px',
                fontWeight: 'bold',
                color: '#8c9097'
            },
        },
        xaxis: {
            categories: categories,
            labels: {
                show: true,
                style: {
                    colors: "#8c9097",
                    fontSize: '11px',
                    fontWeight: 600,
                    cssClass: 'apexcharts-xaxis-label',
                },
            },
            tickAmount: 20
        },
        yaxis: {
            labels: {
                show: true,
                style: {
                    colors: "#8c9097",
                    fontSize: '11px',
                    fontWeight: 600,
                    cssClass: 'apexcharts-yaxis-label',
                },
            }
        }
    };

    // Grafik oluştur
    var chart = new ApexCharts(document.querySelector("#line-chart"), options);
    chart.render();
})


     /* basic line chart */
     var options = {
        series: [{
            name: "Stock Price USD",
            data:  [3.2, 3.0, 3.2, 3.1, 3.3, 2.9, 3.0, 2.8, 2.6, 2.7, 3.0, 3.1, 3.0, 3.3, 3.4, 3.5, 3.5, 3.6, 3.7, 3.1, 3.0, 3.0, 3.0, 2.9, 3.1,
                3.2, 3.2, 3.3, 3.3, 3.1, 3.1, 3.2, 3.1, 3.2, 3.4, 3.6, 3.5, 3.5, 3.5, 3.3, 3.4, 3.5, 3.7, 3.7, 3.7, 3.5, 3.6, 3.4, 3.2, 3.0,
                2.9, 2.4, 2.0, 2.1, 2.0, 2.3, 2.2, 2.2, 2.3, 2.2, 2.1, 2.3, 2.3, 2.5, 2.5, 2.5, 2.7, 2.8, 2.9, 3.1, 3.2, 3.3, 3.0, 2.9, 3.1,
                2.9, 3.0, 3.0, 3.2, 3.0, 3.1, 3.2, 3.5, 3.5, 3.2, 3.3, 3.7, 3.9, 3.7, 3.6, 4.0, 3.9, 4.0, 4.1, 4.4, 4.4, 4.8, 4.5, 4.8, 4.8,
                5.0, 4.5, 4.6, 4.8, 4.9, 4.3, 4.2, 4.0, 3.9, 3.8, 4.2, 4.0, 3.9, 3.9, 3.7, 3.6, 3.8, 3.3, 3.4, 3.7, 3.8, 3.9, 3.8, 3.9, 3.8,
                3.9, 3.9, 3.8, 3.9, 3.8, 3.7, 3.6, 3.7, 3.6, 3.5, 3.5, 3.5, 3.7, 3.7, 3.6, 3.5, 3.4, 3.6, 3.0, 4.9, 3.7, 3.7, 4.0, 3.9, 3.8,
                3.8, 4.2, 4.0, 4.0, 3.8, 3.7, 3.8, 3.9, 4.1, 4.3, 4.4, 4.7, 4.5, 4.6, 4.5, 4.4, 4.9, 5.0, 4.6, 4.5, 4.5, 4.4, 4.1, 3.8, 3.8,
                3.6, 3.7, 3.8, 3.9, 3.9, 3.8, 4.0, 4.0, 3.9, 3.6, 3.8, 3.9, 3.9, 4.0, 4.4, 4.3, 4.5, 4.9, 4.9, 4.9, 5.4, 5.6, 6.0, 6.1, 5.1,
                6.3, 6.0, 5.8, 5.0, 5.5, 6.2, 6.7, 7.1, 6.7, 6.4, 6.1, 6.1, 6.3, 5.8, 5.0, 4.6, 4.8, 4.5, 4.4, 5.0, 5.0, 4.7, 4.9, 5.0, 5.6,
                5.9, 5.7, 5.7, 5.5, 5.8, 5.6, 5.9, 6.1, 6.1, 6.0, 5.8, 5.9, 6.0, 5.7, 5.4, 5.0, 5.0, 4.9, 4.8, 4.9, 4.7, 4.6, 4.4, 4.3, 4.3,
                4.3, 4.4, 4.3, 4.6, 4.8, 5.2, 5.1, 5.2, 5.3, 4.9, 4.6, 4.7
            ] 
        }],
        chart: {
            height: 460,
            type: 'line',
            zoom: {
                enabled: true,
                type: 'x', // Yalnızca x ekseni üzerinde yakınlaşma
                autoScaleYaxis: true 
            }
        },
        colors: ['#845adf'],
        dataLabels: {
            enabled: false
        },
        stroke: {
            curve: 'straight',
            width: 4,
        },
        grid: {
            borderColor: '#f2f5f7',
        },
        title: {
            text: 'ARCLK Stock Price USD',
            align: 'left',
            style: {
                fontSize: '13px',
                fontWeight: 'bold',
                color: '#8c9097'
            },
        },
        xaxis: {
            categories : [
                '22.03.2019', '29.03.2019', '5.04.2019', '12.04.2019', '19.04.2019', '26.04.2019', '3.05.2019', '10.05.2019', '17.05.2019', '24.05.2019', '31.05.2019', '7.06.2019', '14.06.2019', '21.06.2019', '28.06.2019', '5.07.2019', '12.07.2019', '19.07.2019', '26.07.2019', '2.08.2019', '9.08.2019', '16.08.2019', '23.08.2019', '30.08.2019', '6.09.2019', '13.09.2019', '20.09.2019', '27.09.2019', '4.10.2019', '11.10.2019', '18.10.2019', '25.10.2019', '1.11.2019', '8.11.2019', '15.11.2019', '22.11.2019', '29.11.2019', '6.12.2019', '13.12.2019', '20.12.2019', '27.12.2019', '3.01.2020', '10.01.2020', '17.01.2020', '24.01.2020', '31.01.2020', '7.02.2020', '14.02.2020', '21.02.2020', '28.02.2020', '6.03.2020', '13.03.2020', '20.03.2020', '27.03.2020', '3.04.2020', '10.04.2020', '17.04.2020', '24.04.2020', '1.05.2020', '8.05.2020', '15.05.2020', '22.05.2020', '29.05.2020', '5.06.2020', '12.06.2020', '19.06.2020', '26.06.2020', '3.07.2020', '10.07.2020', '17.07.2020', '24.07.2020', '31.07.2020', '7.08.2020', '14.08.2020', '21.08.2020', '28.08.2020', '4.09.2020', '11.09.2020', '18.09.2020', '25.09.2020', '2.10.2020', '9.10.2020', '16.10.2020', '23.10.2020', '30.10.2020', '6.11.2020', '13.11.2020', '20.11.2020', '27.11.2020', '4.12.2020', '11.12.2020', '18.12.2020', '25.12.2020', '1.01.2021', '8.01.2021', '15.01.2021', '22.01.2021', '29.01.2021', '5.02.2021', '12.02.2021', '19.02.2021', '26.02.2021', '5.03.2021', '12.03.2021', '19.03.2021', '26.03.2021', '2.04.2021', '9.04.2021', '16.04.2021', '23.04.2021', '30.04.2021', '7.05.2021', '14.05.2021', '21.05.2021', '28.05.2021', '4.06.2021', '11.06.2021', '18.06.2021', '25.06.2021', '2.07.2021', '9.07.2021', '16.07.2021', '23.07.2021', '30.07.2021', '6.08.2021', '13.08.2021', '20.08.2021', '27.08.2021', '3.09.2021', '10.09.2021', '17.09.2021', '24.09.2021', '1.10.2021', '8.10.2021', '15.10.2021', '22.10.2021', '29.10.2021', '5.11.2021', '12.11.2021', '19.11.2021', '26.11.2021', '3.12.2021', '10.12.2021', '17.12.2021', '24.12.2021', '31.12.2021', '7.01.2022', '14.01.2022', '21.01.2022', '28.01.2022', '4.02.2022', '11.02.2022', '18.02.2022', '25.02.2022', '4.03.2022', '11.03.2022', '18.03.2022', '25.03.2022', '1.04.2022', '8.04.2022', '15.04.2022', '22.04.2022', '29.04.2022', '6.05.2022', '13.05.2022', '20.05.2022', '27.05.2022', '3.06.2022', '10.06.2022', '17.06.2022', '24.06.2022', '1.07.2022', '8.07.2022', '15.07.2022', '22.07.2022', '29.07.2022', '5.08.2022', '12.08.2022', '19.08.2022', '26.08.2022', '2.09.2022', '9.09.2022', '16.09.2022', '23.09.2022', '30.09.2022', '7.10.2022', '14.10.2022', '21.10.2022', '28.10.2022', '4.11.2022', '11.11.2022', '18.11.2022', '25.11.2022', '2.12.2022', '9.12.2022', '16.12.2022', '23.12.2022', '30.12.2022', '6.01.2023', '13.01.2023', '20.01.2023', '27.01.2023', '3.02.2023', '10.02.2023', '17.02.2023', '24.02.2023', '3.03.2023', '10.03.2023', '17.03.2023', '24.03.2023', '31.03.2023', '7.04.2023', '14.04.2023', '21.04.2023', '28.04.2023', '5.05.2023', '12.05.2023', '19.05.2023', '26.05.2023', '2.06.2023', '9.06.2023', '16.06.2023', '23.06.2023', '30.06.2023', '7.07.2023', '14.07.2023', '21.07.2023', '28.07.2023', '4.08.2023', '11.08.2023', '18.08.2023', '25.08.2023', '1.09.2023', '8.09.2023', '15.09.2023', '22.09.2023', '29.09.2023', '6.10.2023', '13.10.2023', '20.10.2023', '27.10.2023', '3.11.2023', '10.11.2023', '17.11.2023', '24.11.2023', '1.12.2023', '8.12.2023', '15.12.2023', '22.12.2023', '29.12.2023', '5.01.2024', '12.01.2024', '19.01.2024', '26.01.2024', '2.02.2024', '9.02.2024', '16.02.2024', '23.02.2024', '1.03.2024', '8.03.2024', '15.03.2024', '19.03.2024'

            ],
            
            labels: {
                show: true,
                style: {
                    colors: "#8c9097",
                    fontSize: '11px',
                    fontWeight: 600,
                    cssClass: 'apexcharts-xaxis-label',
                },
            },
            tickAmount: 20
        },
        yaxis: {
            labels: {
                show: true,
                style: {
                    colors: "#8c9097",
                    fontSize: '11px',
                    fontWeight: 600,
                    cssClass: 'apexcharts-yaxis-label',
                },
            }
        }
    };
    var chart = new ApexCharts(document.querySelector("#line-chart-2"), options);
    chart.render();

 
    /* zoomable time series */
    var ts2 = 1484418600000;
    var spikes = [5, -5, 3, -3, 8, -8]
   /* var dates = [];
    
    for (var i = 0; i < 120; i++) {
        ts2 = ts2 + 86400000;
        var innerArr = [ts2, dataSeries[1][i].value];
        dates.push(innerArr)
    } */
    var options = {
        series: [{
            name: 'XYZ MOTORS',
            data:  [18.6, 16.9, 18.3, 18.1, 19.4, 17.3, 17.8, 16.7, 15.6, 16.2,
                17.4, 17.9, 17.7, 19.4, 19.5, 19.4, 19.8, 20.1, 21.0, 17.2,
                16.8, 16.7, 17.1, 17.1, 17.9, 18.1, 18.5, 18.9, 18.8, 18.0,
                18.1, 18.4, 17.7, 18.5, 19.7, 20.5, 20.1, 20.1, 20.2, 19.7,
                20.2, 21.2, 21.5, 22.0, 21.9, 20.9, 21.5, 20.5, 19.8, 18.6,
                17.9, 15.3, 13.3, 13.4, 13.8, 15.2, 15.4, 15.3, 16.4, 15.4,
                14.8, 15.5, 15.8, 16.7, 16.9, 17.5, 18.4, 18.9, 19.8, 21.3,
                22.1, 23.1, 21.7, 21.6, 22.6, 21.6, 22.0, 22.8, 24.0, 23.2,
                23.8, 25.0, 27.4, 28.2, 26.9, 28.4, 27.8, 29.4, 28.6, 28.4,
                30.9, 29.6, 30.0, 30.4, 32.1, 33.1, 35.4, 33.0, 33.9, 33.7,
                34.9, 33.2, 35.1, 36.2, 35.0, 34.8, 34.0, 32.9, 31.6, 31.3,
                34.4, 32.8, 32.6, 32.4, 32.0, 31.3, 31.7, 29.2, 29.5, 32.4,
                32.7, 33.4, 32.7, 33.0, 33.0, 33.1, 32.8, 32.1, 32.0, 32.2,
                31.9, 31.9, 32.7, 32.0, 32.5, 33.6, 33.7, 35.7, 37.0, 41.1,
                42.8, 46.3, 49.7, 49.6, 52.3, 48.4, 51.7, 53.8, 52.1, 51.5,
                52.0, 56.3, 55.3, 55.6, 54.6, 54.9, 56.0, 57.8, 59.6, 63.0,
                64.4, 69.3, 67.4, 68.0, 70.3, 69.4, 78.8, 82.6, 78.5, 77.5,
                75.2, 73.0, 71.1, 65.6, 66.8, 64.9, 67.1, 68.7, 71.1, 71.7,
                70.1, 73.5, 72.3, 71.7, 67.2, 71.5, 72.0, 73.3, 73.7, 81.1,
                79.0, 83.4, 91.9, 91.1, 91.3, 100.0, 104.0, 112.2, 114.9, 
                96.2, 118.1, 113.6, 108.6, 94.9, 103.6, 117.2, 126.2, 
                134.5, 127.2, 122.6, 117.2, 118.0, 121.3, 112.9, 96.9, 
                90.0, 94.5, 90.0, 88.7, 104.4, 117.8, 111.5, 122.8, 
                130.0, 145.8, 154.7, 152.8, 152.4, 148.8, 158.1, 151.9, 
                156.2, 161.9, 162.5, 162.6, 156.7, 163.0, 165.0, 157.4, 
                151.7, 141.9, 141.5, 139.4, 137.4,  142.2, 136.6, 133.2, 
                128.3, 125.7, 128.5, 128.0, 132.3, 128.7, 139.3, 146.8, 
                160.7, 156.4, 160.3, 166.0, 156.0, 149.4, 152.5] 
        }],
        chart: {
            type: 'area',
            stacked: false,
            height: 320,
            zoom: {
                type: 'x',
                enabled: true,
                autoScaleYaxis: true
            },
            toolbar: {
                autoSelected: 'zoom'
            }
        },
        dataLabels: {
            enabled: false
        },
        markers: {
            size: 0,
        },
        title: {
            text: 'Stock Price Movement',
            align: 'left',
            style: {
                fontSize: '13px',
                fontWeight: 'bold',
                color: '#8c9097'
            },
        },
        fill: {
            type: 'gradient',
            gradient: {
                shadeIntensity: 1,
                inverseColors: false,
                opacityFrom: 0.5,
                opacityTo: 0,
                stops: [0, 90, 100]
            },
        },
        grid: {
            borderColor: '#f2f5f7',
        },
        colors: ["#845adf"],
        yaxis: {
            categories : [
                '19.03.2024', '15.03.2024', '8.03.2024', '1.03.2024', '23.02.2024', '16.02.2024', '9.02.2024', '2.02.2024', '26.01.2024', '19.01.2024', '12.01.2024', '5.01.2024', '29.12.2023', '22.12.2023', '15.12.2023', '8.12.2023', '1.12.2023', '24.11.2023', '17.11.2023', '10.11.2023', '3.11.2023', '27.10.2023', '20.10.2023', '13.10.2023', '6.10.2023', '29.09.2023', '22.09.2023', '15.09.2023', '8.09.2023', '1.09.2023', '25.08.2023', '18.08.2023', '11.08.2023', '4.08.2023', '28.07.2023', '21.07.2023', '14.07.2023', '7.07.2023', '30.06.2023', '23.06.2023', '16.06.2023', '9.06.2023', '2.06.2023', '26.05.2023', '19.05.2023', '12.05.2023', '5.05.2023', '28.04.2023', '21.04.2023', '14.04.2023', '7.04.2023', '31.03.2023', '24.03.2023', '17.03.2023', '10.03.2023', '3.03.2023', '24.02.2023', '17.02.2023', '10.02.2023', '3.02.2023', '27.01.2023', '20.01.2023', '13.01.2023', '6.01.2023', '30.12.2022', '23.12.2022', '16.12.2022', '9.12.2022', '2.12.2022', '25.11.2022', '18.11.2022', '11.11.2022', '4.11.2022', '28.10.2022', '21.10.2022', '14.10.2022', '7.10.2022', '30.09.2022', '23.09.2022', '16.09.2022', '9.09.2022', '2.09.2022', '26.08.2022', '19.08.2022', '12.08.2022', '5.08.2022', '29.07.2022', '22.07.2022', '15.07.2022', '8.07.2022', '1.07.2022', '24.06.2022', '17.06.2022', '10.06.2022', '3.06.2022', '27.05.2022', '20.05.2022', '13.05.2022', '6.05.2022', '29.04.2022', '22.04.2022', '15.04.2022', '8.04.2022', '1.04.2022', '25.03.2022', '18.03.2022', '11.03.2022', '4.03.2022', '25.02.2022', '18.02.2022', '11.02.2022', '4.02.2022', '28.01.2022', '21.01.2022', '14.01.2022', '7.01.2022', '31.12.2021', '24.12.2021', '17.12.2021', '10.12.2021', '3.12.2021', '26.11.2021', '19.11.2021', '12.11.2021', '5.11.2021', '29.10.2021', '22.10.2021', '15.10.2021', '8.10.2021', '1.10.2021', '24.09.2021', '17.09.2021', '10.09.2021', '3.09.2021', '27.08.2021', '20.08.2021', '13.08.2021', '6.08.2021', '30.07.2021', '23.07.2021', '16.07.2021', '9.07.2021', '2.07.2021', '25.06.2021', '18.06.2021', '11.06.2021', '4.06.2021', '28.05.2021', '21.05.2021', '14.05.2021', '7.05.2021', '30.04.2021', '23.04.2021', '16.04.2021', '9.04.2021', '2.04.2021', '26.03.2021', '19.03.2021', '12.03.2021', '5.03.2021', '26.02.2021', '19.02.2021', '12.02.2021', '5.02.2021', '29.01.2021', '22.01.2021', '15.01.2021', '8.01.2021', '1.01.2021', '25.12.2020', '18.12.2020', '11.12.2020', '4.12.2020', '27.11.2020', '20.11.2020', '13.11.2020', '6.11.2020', '30.10.2020', '23.10.2020', '16.10.2020', '9.10.2020', '2.10.2020', '25.09.2020', '18.09.2020', '11.09.2020', '4.09.2020', '28.08.2020', '21.08.2020', '14.08.2020', '7.08.2020', '31.07.2020', '24.07.2020', '17.07.2020', '10.07.2020', '3.07.2020', '26.06.2020', '19.06.2020', '12.06.2020', '5.06.2020', '29.05.2020', '22.05.2020', '15.05.2020', '8.05.2020', '1.05.2020', '24.04.2020', '17.04.2020', '10.04.2020', '3.04.2020', '27.03.2020', '20.03.2020', '13.03.2020', '6.03.2020', '28.02.2020', '21.02.2020', '14.02.2020', '7.02.2020', '31.01.2020', '24.01.2020', '17.01.2020', '10.01.2020', '3.01.2020', '27.12.2019', '20.12.2019', '13.12.2019', '6.12.2019', '29.11.2019', '22.11.2019', '15.11.2019', '8.11.2019', '1.11.2019', '25.10.2019', '18.10.2019', '11.10.2019', '4.10.2019', '27.09.2019', '20.09.2019', '13.09.2019', '6.09.2019', '30.08.2019', '23.08.2019', '16.08.2019', '9.08.2019', '2.08.2019', '26.07.2019', '19.07.2019', '12.07.2019', '5.07.2019', '28.06.2019', '21.06.2019', '14.06.2019', '7.06.2019', '31.05.2019', '24.05.2019', '17.05.2019', '10.05.2019', '3.05.2019', '26.04.2019', '19.04.2019', '12.04.2019', '5.04.2019', '29.03.2019', '22.03.2019'
            ],

            labels: {
                
                show: true,
                style: {
                    colors: "#8c9097",
                    fontSize: '11px',
                    fontWeight: 600,
                    cssClass: 'apexcharts-yaxis-label',
                },
            },
            title: {
                text: 'Price',
                fontSize: '13px',
                fontWeight: 'bold',
                style: {
                    color: "#8c9097"
                }
            },
        },
        xaxis: {
            type: 'datetime',
            labels: {
                show: true,
                style: {
                    colors: "#8c9097",
                    fontSize: '11px',
                    fontWeight: 600,
                    cssClass: 'apexcharts-xaxis-label',
                },
            },
        },
     /*  tooltip: {
            shared: false,
            y: {
                formatter: function (val) {
                    return (val / 1000000).toFixed(0)
                }
            }
        }
   */   };
    var chart = new ApexCharts(document.querySelector("#zoom-chart"), options);
    chart.render();

})();